
{% block content %}
{% include 'ask_the_doctor/base.html' %}
<style type="text/css">
	body{
		background-color: #EEEEE0;
	}


	.inner-box{
		margin-top: 1rem;
		margin-bottom: 1rem;

		
	}
	.mic{
		color: #000000;
		font-size: 1.5rem;
	}
	.mic:hover{
		color: blue;

	}
	.re{
		background-color: none;
		border: none;
	}

</style>
<br><br>

<div class="container">
	
	<div class="row">
		<div class="col-lg-10 col-md-10 col-sm-12 col-xs-12">
				<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12 inner-box">
					<div class="form-group">
						<form method="POST">
							
							{% csrf_token %}
							
								{{ form.text | safe }}
								{{ form.media }}
								{{form.question_title.label}}<br><br>
								<p id="title_text">
									{{form.question_title}}
								</p>
								<br><br>
								<button onclick="record1()" class="re"><i class="fas fa-microphone mic"></i></button><br><br>
								{{form.question_detail.label}}<br><br>
								<p id="detail_text">
									{{form.question_detail}}
								</p>
								<br><br>
							
							&nbsp;<button onclick="record2()" class="re"><i class="fas fa-microphone mic"></i></button><br><br>
							<input type="submit" class="btn btn-primary" name="Submit">
							
						</form>
					</div>
				</div>
			</div>
		</div>
		<br><br>

	</div>
</div>

<script type="text/javascript">
	function record1(){
		var recognition= new webkitSpeechRecognition();
		recognition.lang="en-IN";
		recognition.onresult=function(event){
			console.log(event);
			document.getElementById('title_text').value=event.results[0][0].transcript;
		}
		recognition.start();
	}

	function record2(){
		var recognition= new webkitSpeechRecognition();
		recognition.lang="en-IN";
		recognition.onresult=function(event){
			console.log(event);
			document.getElementById('detail_text').value=event.results[0][0].transcript;
		}
		recognition.start();
	}

</script>

 

{% endblock %}